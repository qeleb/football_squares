import Big from 'big.js';

export const players = {
  Eric: [
    [1, 0],
    [1, 3],
    [7, 0],
    [7, 3],
  ],
  'Josh & Lora': [
    [0, 2],
    [1, 8],
    [2, 9],
    [3, 7],
    [4, 5],
    [5, 0],
    [6, 4],
    [7, 6],
    [8, 3],
    [9, 1],
  ],
  'Bruce B.': [
    [0, 3],
    [2, 8],
    [7, 4],
  ],
  'Don K.': [
    [1, 4],
    [6, 0],
    [7, 2],
    [7, 5],
    [8, 1],
    [8, 4],
  ],
  'Dave & Angie': [
    [0, 4],
    [1, 7],
    [2, 1],
    [3, 9],
    [4, 1],
    [7, 8],
    [7, 9],
    [8, 8],
    [9, 0],
    [9, 3],
  ],
  'Karen M': [
    [1, 6],
    [2, 0],
    [2, 6],
    [3, 0],
    [3, 3],
    [4, 6],
    [4, 7],
    [5, 2],
    [5, 9],
    [7, 7],
    [8, 5],
  ],
  'Bruce & Kathy': [
    [0, 7],
    [1, 9],
    [3, 4],
    [5, 3],
    [6, 5],
    [7, 1],
    [8, 2],
    [9, 6],
  ],
  Kristina: [
    [0, 0],
    [0, 9],
    [1, 2],
    [2, 3],
    [3, 2],
    [5, 6],
    [6, 7],
    [6, 9],
    [9, 4],
    [9, 7],
  ],
  Micah: [
    [3, 5],
    [5, 4],
  ],
  Ryan: [[5, 8]],
  Kerie: [
    [0, 6],
    [1, 1],
    [4, 0],
    [5, 7],
  ],
  JSM: [
    [5, 1],
    [8, 6],
  ],
  HMM: [[5, 5]],
  Rob: [
    [0, 8],
    [2, 2],
    [3, 1],
    [4, 2],
    [4, 3],
    [6, 1],
    [6, 6],
    [9, 5],
  ],
  'Kris Evans': [
    [0, 1],
    [4, 4],
    [8, 9],
    [9, 2],
  ],
  'Jon Hoff': [
    [2, 5],
    [4, 8],
  ],
  'Pete Kraft': [
    [1, 5],
    [2, 7],
    [3, 6],
    [4, 9],
  ],
  ZH: [[9, 8]],
  BM: [
    [2, 4],
    [6, 3],
    [8, 7],
    [9, 9],
  ],
  Peggy: [
    [0, 5],
    [6, 2],
  ],
  GJM: [
    [6, 8],
    [8, 0],
  ],
  PMM: [[3, 8]],
};

export const q1 = [
  [
    Big('.165'),
    Big('.003'),
    Big('.002'),
    Big('.084'),
    Big('.023'),
    Big('.001'),
    Big('.016'),
    Big('.096'),
    Big('.001'),
    Big('.002'),
  ],
  [Big('.004'), Big(0), Big(0), Big(0), Big(0), Big(0), Big(0), Big('.001'), Big(0), Big(0)],
  [Big('.004'), Big(0), Big(0), Big('.001'), Big(0), Big(0), Big(0), Big(0), Big(0), Big(0)],
  [
    Big('.077'),
    Big('.001'),
    Big('.002'),
    Big('.039'),
    Big('.007'),
    Big(0),
    Big('.006'),
    Big('.047'),
    Big('.001'),
    Big('.001'),
  ],
  [Big('.046'), Big(0), Big(0), Big('.013'), Big('.002'), Big(0), Big('.002'), Big('.015'), Big(0), Big(0)],
  [Big('.001'), Big(0), Big(0), Big(0), Big(0), Big(0), Big(0), Big('.001'), Big(0), Big(0)],
  [Big('.022'), Big(0), Big(0), Big('.009'), Big('.003'), Big(0), Big('.001'), Big('.006'), Big(0), Big('.001')],
  [
    Big('.122'),
    Big(0),
    Big('.001'),
    Big('.056'),
    Big('.016'),
    Big(0),
    Big('.017'),
    Big('.072'),
    Big('.001'),
    Big('.001'),
  ],
  [Big('.001'), Big(0), Big(0), Big(0), Big(0), Big(0), Big(0), Big(0), Big(0), Big(0)],
  [Big('.005'), Big(0), Big(0), Big('.001'), Big(0), Big(0), Big('.001'), Big('.001'), Big(0), Big('.001')],
];

export const q2 = [
  [
    Big('.099'),
    Big('.009'),
    Big('.002'),
    Big('.076'),
    Big('.023'),
    Big('.001'),
    Big('.029'),
    Big('.081'),
    Big('.004'),
    Big('.01'),
  ],
  [Big('.007'), Big(0), Big(0), Big('.007'), Big('.002'), Big('.001'), Big('.001'), Big('.002'), Big(0), Big(0)],
  [Big('.002'), Big(0), Big(0), Big('.001'), Big('.001'), Big(0), Big('.001'), Big(0), Big(0), Big(0)],
  [
    Big('.072'),
    Big('.003'),
    Big('.001'),
    Big('.044'),
    Big('.014'),
    Big(0),
    Big('.016'),
    Big('.049'),
    Big(0),
    Big('.002'),
  ],
  [
    Big('.038'),
    Big('.001'),
    Big('.001'),
    Big('.019'),
    Big('.008'),
    Big('.001'),
    Big('.005'),
    Big('.014'),
    Big(0),
    Big('.001'),
  ],
  [Big('.002'), Big(0), Big(0), Big('.001'), Big(0), Big(0), Big(0), Big('.001'), Big(0), Big('.001')],
  [
    Big('.025'),
    Big('.001'),
    Big('.001'),
    Big('.016'),
    Big('.011'),
    Big('.001'),
    Big('.004'),
    Big('.015'),
    Big(0),
    Big('.001'),
  ],
  [
    Big('.083'),
    Big('.007'),
    Big('.001'),
    Big('.051'),
    Big('.019'),
    Big('.001'),
    Big('.02'),
    Big('.052'),
    Big('.002'),
    Big('.009'),
  ],
  [Big('.002'), Big(0), Big(0), Big('.002'), Big(0), Big(0), Big(0), Big('.001'), Big(0), Big(0)],
  [Big('.009'), Big(0), Big(0), Big('.004'), Big(0), Big(0), Big('.001'), Big('.01'), Big(0), Big(0)],
];

export const q3 = [
  [
    Big('.146'),
    Big('.007'),
    Big('.002'),
    Big('.093'),
    Big('.027'),
    Big('.002'),
    Big('.02'),
    Big('.101'),
    Big('.006'),
    Big('.003'),
  ],
  [Big('.006'), Big(0), Big(0), Big('.001'), Big(0), Big(0), Big('.001'), Big('.002'), Big('.001'), Big(0)],
  [Big('.002'), Big(0), Big(0), Big('.001'), Big(0), Big(0), Big(0), Big('.001'), Big(0), Big(0)],
  [
    Big('.086'),
    Big('.001'),
    Big('.001'),
    Big('.031'),
    Big('.004'),
    Big('.001'),
    Big('.006'),
    Big('.047'),
    Big('.001'),
    Big('.002'),
  ],
  [Big('.032'), Big(0), Big(0), Big('.009'), Big('.002'), Big(0), Big('.001'), Big('.014'), Big('.002'), Big('.001')],
  [Big('.002'), Big(0), Big(0), Big('.001'), Big('.001'), Big(0), Big(0), Big('.001'), Big(0), Big(0)],
  [Big('.023'), Big('.001'), Big(0), Big('.007'), Big(0), Big(0), Big('.001'), Big('.011'), Big('.002'), Big('.001')],
  [
    Big('.104'),
    Big('.003'),
    Big('.001'),
    Big('.042'),
    Big('.014'),
    Big(0),
    Big('.016'),
    Big('.076'),
    Big('.005'),
    Big('.001'),
  ],
  [Big('.004'), Big(0), Big(0), Big('.002'), Big('.003'), Big(0), Big(0), Big('.002'), Big('.001'), Big(0)],
  [Big('.005'), Big(0), Big(0), Big('.002'), Big('.001'), Big(0), Big('.001'), Big('.002'), Big(0), Big(0)],
];

export const q4 = [
  [
    Big('.019'),
    Big('.006'),
    Big('.006'),
    Big('.029'),
    Big('.025'),
    Big('.011'),
    Big('.017'),
    Big('.034'),
    Big('.007'),
    Big('.011'),
  ],
  [
    Big('.009'),
    Big('.009'),
    Big('.006'),
    Big('.016'),
    Big('.019'),
    Big('.002'),
    Big('.006'),
    Big('.016'),
    Big('.011'),
    Big('.004'),
  ],
  [
    Big('.008'),
    Big('.005'),
    Big('.001'),
    Big('.005'),
    Big('.005'),
    Big('.002'),
    Big('.004'),
    Big('.009'),
    Big('.006'),
    Big('.006'),
  ],
  [
    Big('.027'),
    Big('.009'),
    Big('.003'),
    Big('.011'),
    Big('.007'),
    Big('.005'),
    Big('.017'),
    Big('.026'),
    Big('.006'),
    Big('.007'),
  ],
  [
    Big('.022'),
    Big('.019'),
    Big('.006'),
    Big('.014'),
    Big('.007'),
    Big('.004'),
    Big('.015'),
    Big('.028'),
    Big('.007'),
    Big('.006'),
  ],
  [
    Big('.011'),
    Big('.006'),
    Big('.004'),
    Big('.007'),
    Big('.003'),
    Big('.001'),
    Big('.006'),
    Big('.006'),
    Big('.002'),
    Big('.002'),
  ],
  [
    Big('.025'),
    Big('.008'),
    Big('.006'),
    Big('.017'),
    Big('.01'),
    Big('.007'),
    Big('.01'),
    Big('.012'),
    Big('.007'),
    Big('.005'),
  ],
  [
    Big('.033'),
    Big('.009'),
    Big('.007'),
    Big('.022'),
    Big('.032'),
    Big('.005'),
    Big('.009'),
    Big('.017'),
    Big('.006'),
    Big('.012'),
  ],
  [
    Big('.009'),
    Big('.012'),
    Big('.006'),
    Big('.008'),
    Big('.01'),
    Big('.007'),
    Big('.004'),
    Big('.011'),
    Big('.004'),
    Big('.004'),
  ],
  [
    Big('.007'),
    Big('.004'),
    Big('.004'),
    Big('.009'),
    Big('.007'),
    Big('.002'),
    Big('.007'),
    Big('.007'),
    Big('.002'),
    Big('.004'),
  ],
];

export const getChanceCorrect = (q: Big[][], scores: [number, number][]) =>
  scores.map(([chiefs, nine]) => q[chiefs][nine]).reduce((a, b) => a.add(b), Big(0));

export const getChanceReverse = (q: Big[][], scores: [number, number][]) =>
  scores.map(([chiefs, nine]) => q[nine][chiefs]).reduce((a, b) => a.add(b), Big(0));

export const getExactValue = (score: [number, number], scores: [number, number][]) =>
  Big(scores.some(s => s[0] === score[0] && s[1] === score[1]) ? 100 : 0).add(
    scores.some(s => s[0] === score[1] && s[1] === score[0]) ? 25 : 0
  );

export const getExpectedValue = (q: Big[][], scores: [number, number][]) =>
  getChanceCorrect(q, scores).mul(100).add(getChanceReverse(q, scores).mul(25));
